"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4519],{50691:(J,S,n)=>{n.d(S,{fk:()=>G,yf:()=>I,Df:()=>E,Uj:()=>$,Jn:()=>N,z$:()=>b});var a=n(96540),e=n(43429),u=n(39938);function E({error:o}){const c=f(o);return a.createElement(u.E,{icon:"exclamation-triangle",text:"Disabled",color:"red",tooltip:c})}function f(o){switch(o){case e.ZK.modifiedSignature:return"Plugin disabled due to modified content";case e.ZK.invalidSignature:return"Plugin disabled due to invalid plugin signature";case e.ZK.missingSignature:return"Plugin disabled due to missing plugin signature";case null:case void 0:return"Plugin disabled";default:return`Plugin disabled due to unknown error${o?`: ${o}`:""}`}}var d=n(40845),h=n(32196);const p=o=>(0,h.css)`
  background: ${o.colors.background.primary};
  border-color: ${o.colors.border.strong};
  color: ${o.colors.text.secondary};
`;function N(){const o=(0,d.of)(p);return a.createElement(u.E,{text:"Installed",color:"orange",className:o})}var x=n(33378),T=n(67061),L=n(98624);function $({plugin:o}){const c=(0,d.of)(p);return(0,x.a)("enterprise.plugins")?a.createElement(u.E,{text:"Enterprise",color:"blue"}):a.createElement(T.B,{wrap:"wrap"},a.createElement(L.B,{status:o.signature}),a.createElement(u.E,{icon:"lock",role:"img","aria-label":"lock icon",text:"Enterprise",color:"blue",className:c,title:"Requires a Grafana Enterprise license"}))}function b({plugin:o}){const c=(0,d.of)(z);return a.createElement("p",{className:c.hasUpdate},"Update available!")}const z=o=>({hasUpdate:(0,h.css)`
      color: ${o.colors.text.secondary};
      font-size: ${o.typography.bodySmall.fontSize};
      margin-bottom: 0;
    `});function G(){return a.createElement(u.E,{icon:"exclamation-triangle",text:"Angular",color:"orange",tooltip:"This plugin uses deprecated functionality, support for which is being removed."})}function I(){return a.createElement(u.E,{icon:"exclamation-triangle",text:"Deprecated",color:"orange",tooltip:"This plugin is deprecated and no longer receives updates."})}},65965:(J,S,n)=>{n.r(S),n.d(S,{default:()=>ce});var a=n(32196),e=n(96540),u=n(24180),E=n(12131),f=n(40845),d=n(88575),h=n(21594),p=n(94354),N=n(56034),x=n(67608),T=n(17422),L=n(6320),$=n(31678),b=n(42930),z=n(32264),G=n(69529),I=n(71259),o=n(8484),c=n(66253),A=n(70255),Q=n(14110),Y=n(14578),V=n(67061),F=n(39938),X=n(72129),w=n(43429),R=n(66864),k=n(98624),g=n(50691);function q({plugin:t}){const s=t.hasUpdate&&!t.isCore&&t.type!==w.QE.renderer;return t.isEnterprise?e.createElement(R.Gy,{height:"auto",wrap:!0},e.createElement(g.Uj,{plugin:t}),t.isDisabled&&e.createElement(g.Df,{error:t.error}),s&&e.createElement(g.z$,{plugin:t}),t.angularDetected&&e.createElement(g.fk,null)):e.createElement(R.Gy,{height:"auto",wrap:!0},e.createElement(k.B,{status:t.signature}),t.isDisabled&&e.createElement(g.Df,{error:t.error}),t.isDeprecated&&e.createElement(g.yf,null),t.isInstalled&&e.createElement(g.Jn,null),s&&e.createElement(g.z$,{plugin:t}),t.angularDetected&&e.createElement(g.fk,null))}function _({alt:t,className:s,src:l,height:r}){return e.createElement("img",{src:l,className:s,alt:t,loading:"lazy",height:r})}const D="48px";function ee({plugin:t,pathName:s,displayMode:l=c.fy.Grid}){const r=(0,f.of)(Z),i=l===c.fy.List,B=()=>{E.Ny.getSearchObject()?.q&&(0,Q.rR)("plugins_search_user_click",{})};return e.createElement("a",{href:`${s}/${t.id}`,className:(0,a.cx)(r.container,{[r.list]:i}),onClick:B},e.createElement(_,{src:t.info.logos.small,className:r.pluginLogo,height:D,alt:""}),e.createElement("h2",{className:(0,a.cx)(r.name,"plugin-name")},t.name),e.createElement("div",{className:(0,a.cx)(r.content,"plugin-content")},e.createElement("p",null,"By ",t.orgName),e.createElement(q,{plugin:t})),e.createElement("div",{className:r.pluginType},t.type&&e.createElement(Y.I,{name:c.Ip[t.type],title:`${t.type} plugin`})))}const te=({displayMode:t=c.fy.Grid,rootProps:s})=>{const l=(0,f.of)(Z),r=t===c.fy.List;return e.createElement("div",{className:(0,a.cx)(l.container,{[l.list]:r}),...s},e.createElement(A.A,{containerClassName:(0,a.cx)(l.pluginLogo,(0,a.css)({lineHeight:1})),width:D,height:D}),e.createElement("h2",{className:l.name},e.createElement(A.A,{width:100})),e.createElement("div",{className:l.content},e.createElement("p",null,e.createElement(A.A,{width:120})),e.createElement(V.B,{direction:"row"},e.createElement(F.E.Skeleton,null),e.createElement(F.E.Skeleton,null))),e.createElement("div",{className:l.pluginType},e.createElement(A.A,{width:16,height:16})))},W=(0,X.j)(ee,te),Z=t=>({container:(0,a.css)({display:"grid",gridTemplateColumns:`${D} 1fr ${t.spacing(3)}`,gridTemplateRows:"auto",gap:t.spacing(2),gridAutoFlow:"row",background:t.colors.background.secondary,borderRadius:t.shape.radius.default,padding:t.spacing(3),[t.transitions.handleMotion("no-preference","reduce")]:{transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short})},"&:hover":{background:t.colors.emphasize(t.colors.background.secondary,.03)}}),list:(0,a.css)({rowGap:0,"> img":{alignSelf:"start"},"> .plugin-content":{minHeight:0,gridArea:"2 / 2 / 4 / 3","> p":{margin:t.spacing(0,0,.5,0)}},"> .plugin-name":{alignSelf:"center",gridArea:"1 / 2 / 2 / 3"}}),pluginType:(0,a.css)({gridArea:"1 / 3 / 2 / 4",color:t.colors.text.secondary}),pluginLogo:(0,a.css)({gridArea:"1 / 1 / 3 / 2",maxWidth:"100%",alignSelf:"center",objectFit:"contain"}),content:(0,a.css)({gridArea:"3 / 1 / 4 / 3",color:t.colors.text.secondary}),name:(0,a.css)({gridArea:"1 / 2 / 3 / 3",alignSelf:"center",fontSize:t.typography.h4.fontSize,color:t.colors.text.primary,margin:0,wordBreak:"normal",overflowWrap:"anywhere"})}),ne=({plugins:t,displayMode:s,isLoading:l})=>{const r=s===c.fy.List,{pathname:i}=(0,u.zy)(),B=z.$.appSubUrl+(i.endsWith("/")?i.slice(0,-1):i);return!l&&t.length===0?e.createElement(G.p,{variant:"not-found",message:(0,o.t)("plugins.empty-state.message","No plugins found")}):e.createElement(I.x,{gap:3,...r?{columns:1}:{minColumnWidth:34},"data-testid":"plugin-list"},l?new Array(50).fill(null).map((y,v)=>e.createElement(W.Skeleton,{key:v,displayMode:s})):t.map(y=>e.createElement(W,{key:y.id,plugin:y,pathName:B,displayMode:s})))};var ae=n(40996),le=n(67647);const re=(t,s=0,l=[])=>{const r=(0,e.useRef)(!0),i=[...l,r];return(0,ae.A)(()=>{if(r.current){r.current=!1;return}return t()},s,i)},oe=({value:t,onSearch:s})=>{const[l,r]=(0,e.useState)(t);return re(()=>s(l??""),500,[l]),e.createElement(le.Z,{value:l,onKeyDown:i=>{(i.key==="Enter"||i.keyCode===13)&&s(i.currentTarget.value)},placeholder:"Search Grafana plugins",onChange:i=>{r(i)},width:46})};var se=n(5129);const ie=()=>({push:({query:t})=>{E.Ny.partial(t)}});var U=n(83391);function ce({route:t}){const s=(0,u.zy)(),l=(0,E.SE)(s.search),r=(0,$.useSelector)(m=>(0,T.tc)(m.navIndex,"plugins")),{displayMode:i,setDisplayMode:B}=(0,U.Tr)(),y=(0,f.of)(de),v=ie(),ue=(0,U.pw)(),j=l.q?.toString()||"",C=l.filterBy?.toString()||"all",P=l.filterByType||"all",H=l.sortBy||se.by.nameAsc,{isLoading:ge,error:K,plugins:me}=(0,U.PW)({keyword:j,type:P!=="all"?P:void 0,isInstalled:C==="installed"?!0:void 0},H),O=[{value:"all",label:"All"},{value:"installed",label:"Installed"}],ye=m=>{v.push({query:{sortBy:m.value}})},M=m=>{v.push({query:{filterBy:m}})},pe=m=>{v.push({query:{filterByType:m.value}})},ve=m=>{v.push({query:{filterBy:C,filterByType:P,q:m}})};if(K)return console.error(K.message),null;const Ee=e.createElement("div",null,"Extend the Grafana experience with panel plugins and apps. To find more data sources go to"," ",e.createElement("a",{className:"external-link",href:`${L.b.AddNewConnection}?cat=data-source`},"Connections"),".");return e.createElement(x.Y,{navModel:r,subTitle:Ee},e.createElement(x.Y.Contents,null,e.createElement(b.G,{wrap:!0},e.createElement(d.D,{label:"Search"},e.createElement(oe,{value:j,onSearch:ve})),e.createElement(b.G,{wrap:!0,className:y.actionBar},e.createElement(d.D,{label:"Type"},e.createElement(h.l6,{"aria-label":"Plugin type filter",value:P,onChange:pe,width:18,options:[{value:"all",label:"All"},{value:"datasource",label:"Data sources"},{value:"panel",label:"Panels"},{value:"app",label:"Applications"}]})),ue?e.createElement(d.D,{label:"State"},e.createElement(p.z,{value:C,onChange:M,options:O})):e.createElement(N.m,{content:"This filter has been disabled because the Grafana server cannot access grafana.com",placement:"top"},e.createElement("div",null,e.createElement(d.D,{label:"State"},e.createElement(p.z,{disabled:!0,value:C,onChange:M,options:O})))),e.createElement(d.D,{label:"Sort"},e.createElement(h.l6,{"aria-label":"Sort Plugins List",width:24,value:H,onChange:ye,options:[{value:"nameAsc",label:"By name (A-Z)"},{value:"nameDesc",label:"By name (Z-A)"},{value:"updated",label:"By updated date"},{value:"published",label:"By published date"},{value:"downloads",label:"By downloads"}]})),e.createElement(d.D,{label:"View"},e.createElement(p.z,{className:y.displayAs,value:i,onChange:B,options:[{value:c.fy.Grid,icon:"table",description:"Display plugins in a grid layout"},{value:c.fy.List,icon:"list-ul",description:"Display plugins in list"}]})))),e.createElement("div",{className:y.listWrap},e.createElement(ne,{plugins:me,displayMode:i,isLoading:ge}))))}const de=t=>({actionBar:(0,a.css)({[t.breakpoints.up("xl")]:{marginLeft:"auto"}}),listWrap:(0,a.css)({marginTop:t.spacing(2)}),displayAs:(0,a.css)({svg:{marginRight:0}})})}}]);

//# sourceMappingURL=PluginListPage.ccd2919130ceb23ccfef.js.map